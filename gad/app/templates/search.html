{% extends "base.html" %}
{% load static %}

{% block title %}
Panel - Buscar
{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-md-6">
    <h1>Buscar</h1>
    <p>En este apartado podrás buscar un archivo especifico por con cualquiera de los parámetros que tienes abajo</p>
    <form id="filter-form">
      <fieldset>
        <legend>Datos de archivo</legend>
        <div class="mb-3">
          <label for="filename" class="form-label">Nombre de archivo</label>
          <input type="text" class="form-control" id="filename" name="filename" placeholder="...">
        </div>
        <div class="mb-3">
          <label for="file-types" class="form-label">Tipo de archivo</label>
          <select class="form-select" id="file-types" name="file-types"></select>
        </div>
        <div class="mb-3">
          <label for="created_at" class="form-label">Fecha de creación</label>
          <input type="date" class="form-control" id="created_at" name="created_at">
        </div>
        <div class="mb-3">
          <label for="description" class="form-label">Descripción</label>
          <input type="text" class="form-control" id="description" name="description" placeholder="...">
        </div>
      </fieldset>
      <fieldset>
        <legend>Datos de caja</legend>
        <div class="mb-3">
          <label for="box-number" class="form-label">Número</label>
          <input type="number" class="form-control" id="box-number" name="box-number" placeholder="N°">
        </div>
        <div class="mb-3">
          <label for="seccion" class="form-label">Sección documental</label>
          <select class="form-select" id="seccion" name="section"></select>
        </div>
        <div class="mb-3">
          <label for="subseccion_documental" class="form-label">Subsección documental</label>
          <select class="form-select" id="subseccion" name="subsection"></select>
        </div>
        <div class="mb-3">
          <label for="initial_date" class="form-label">Fecha inicio</label>
          <input type="date" class="form-control" id="initial_date" name="initial_date">
        </div>
        <div class="mb-3">
          <label for="final_date" class="form-label">Fecha fin</label>
          <input type="date" class="form-control" id="final_date" name="final_date">
        </div>
      <button type="submit" class="btn btn-primary btn-new" id="btn-filter">Buscar</button>
    </form>
  </div>
</div>

<!-- Modal para emitir los documentos para prestamos -->
<div class="modal fade" id="document_PDF" tabindex="-1" aria-labelledby="newBoxLabel" aria-hidden="false">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="newBoxLabel">Prestar Documento</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="borrow-form">
          <div class="mb-3">
            <label for="dni" class="form-label">Cédula</label>
            <input type="text" class="form-control" id="dni" name="dni" placeholder="12xxxxxxxx" required>
          </div>
          <div class="mb-3">
            <label for="person-name" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="person-name" name="name" placeholder="Jhon Doe" required>
          </div>
          <div class="mb-3">
            <label for="person-telephone" class="form-label">Telefono</label>
            <input type="text" class="form-control" id="person-telephone" name="telephone" placeholder="09xxxxxxxx" required>
          </div>
          <div class="mb-3">
            <label for="person-address" class="form-label">Dirección</label>
            <input type="text" class="form-control" id="person-address" name="address" placeholder="Av. libertad ..." required>
          </div>
          <button type="submit" class="btn btn-primary btn-new">Prestar</button>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="ui-global hidden" id="table-ui">
  <div class="ui-container">
    <table id="myTable">
      <thead>
        <tr>
          <th class="col-table">N°</th>
          <th class="col-table">Nombre:</th>
          <th class="col-table">Tipo:</th>
          <th class="col-table">Fecha creación:</th>
          <th class="col-table">N° Caja:</th>
          <th class="col-table">Sección:</th>
          <th class="col-table">Subsección:</th>
          <th class="col-table">Fecha inicial:</th>
          <th class="col-table">Fecha final:</th>
          <th class="col-table">Opciones</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="{% static 'js/constants.js'%}"></script>
<script src="{% static 'js/tableUI.js'%}"></script>
<script src="{% static 'js/fetchRequest.js'%}"></script>
<script src="{% static 'js/createPDF.js'%}"></script>
<script src="{% static 'js/nameValidator.js'%}"></script>
<script src="{% static 'js/dniValidator.js'%}"></script>
<script src="{% static 'js/search.js'%}"></script>
<script src="{% static 'js/borrowFile.js'%}"></script>
{% endblock %}